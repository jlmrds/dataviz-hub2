{"version":3,"sources":["webpack://datavizhub-tuos/./src/templates/blog/blogTemplate.jsx","webpack://datavizhub-tuos/./src/utils/hooks/backgroundMovement.jsx"],"names":["allMdx","data","pageContext","useState","tagMenu","toggleTagMenu","handleTagMenu","backgroundMovement","title","keywords","className","currentPage","style","id","background","Bg","backgroundPosition","backgroundSize","backgroundAttachment","cascade","top","delay","textShadow","maxWidth","Link","to","pageType","elementId","parent","xFactor","yFactor","xLocation","setXLocation","yLocation","setYLocation","useEffect","onMouseMove","event","xMove","clientX","yMove","clientY","parseInt","getComputedStyle","getPropertyValue","left","document","querySelector","transition","hoverElement","parentElement","addEventListener","removeEventListener"],"mappings":"kQAqFA,UAxEqB,SAAC,GAAqC,IAA5BA,EAA2B,EAAlCC,KAAOD,OAASE,EAAkB,EAAlBA,YAAkB,GACxBC,eAAS,GAAnCC,EADkD,KACzCC,EADyC,KAGzD,SAASC,IACRD,GAAeD,GAKhB,OAFAG,OAAmB,mBAGlB,yBACC,QAAC,IAAD,CACEC,MAAM,OACNC,SAAU,CAAC,8BAA+B,qBAAsB,yBAA0B,eAE5F,QAAC,IAAD,OAEA,eACCC,WAAyC,GAA3BR,EAAYS,YAAmB,WAAa,aAAjD,8FACTC,MAAO,KAKP,eACCC,GAAG,iBACHH,UAAU,0DACVE,MAAO,CACNE,WAAW,oFAAqFC,IAAtF,IACVC,mBAAoB,SACpBC,eAAgB,QAChBC,qBAAsB,YAKxB,QAAC,IAAD,CAAMC,SAAO,EAACC,KAAG,EAACC,MAAO,MACxB,eAAKX,UAAU,aAAaE,MAAO,CAACU,WAAY,sBAC/C,cAAIZ,UAAU,2BAAd,SACA,aAAGA,UAAU,kCAAkCE,MAAO,CAACW,SAAU,UAAjE,sHAGF,QAAC,IAAD,CAAMJ,SAAO,EAACC,KAAG,EAACC,MAAO,MACxB,eAAKX,UAA0C,IAA5BR,EAAYS,YAAZ,cAClB,QAAC,IAAD,CACCT,YAAeA,EACfI,cAAeA,EACfF,QAASA,KAEV,eAAKM,UAAU,UACd,QAAC,EAAAc,KAAD,CAAMC,GAAG,eACR,QAAC,KAAD,CAAYf,UAAU,iDAAtB,uBASL,QAAC,IAAD,CACCV,OAAQA,EACRE,YAAaA,EACbwB,SAAU,QACVpB,cAAeA,EACfF,QAASA,KAEV,QAAC,IAAD,S,gFCxEI,SAASG,EAAmBoB,EAAWC,EAAeC,EAAgBC,QAAgB,IAA/CF,OAAS,QAAsC,IAAhCC,MAAU,UAAsB,IAAhBC,MAAU,KAAM,OAEzD3B,cAAS,GAApC4B,EAFoF,KAEzEC,EAFyE,QAGzD7B,cAAS,GAApC8B,EAHoF,KAGzEC,EAHyE,MAK3FC,gBACE,WACE,IAAMC,EAAc,SAACC,GAInB,IAAIC,EAAQD,EAAME,QAAUR,EACxBS,EAAQH,EAAMI,QAAUR,EAG5BD,EAAaK,EAAME,SACnBL,EAAaG,EAAMI,SAGnB3B,EAAWF,MAAMQ,KAAQU,EAAUU,EAAQE,SAASC,iBAAiB7B,GAAY8B,iBAAiB,QAAW,KAC7G9B,EAAWF,MAAMiC,MAAShB,EAAUS,EAAQI,SAASC,iBAAiB7B,GAAY8B,iBAAiB,SAAY,MAI7G9B,EAAagC,SAASC,cAAT,IAA2BpB,GAG5C,GAFAb,EAAWF,MAAMoC,WAAa,OAEzBlC,EAAL,CAGA,IAAImC,EAAenC,EAmBnB,OAlBe,IAAXc,IACFqB,EAAenC,EAAWoC,eAS5BD,EAAaE,iBAAiB,YAAaf,GAC3Ca,EAAaE,iBAAiB,cAAc,WAC1CrC,EAAWF,MAAMoC,WAAa,WAC9BlC,EAAWF,MAAMQ,IAAM,EACvBN,EAAWF,MAAMiC,KAAO,KAInB,WACD/B,IACFmC,EAAaG,oBAAoB,YAAahB,GAC9Ca,EAAaG,oBAAoB,cAAc,WAC7CtC,EAAWF,MAAMoC,WAAa,eAMtC,CAACjB","file":"component---src-templates-blog-blog-template-jsx-77a31980fc476920dbf6.js","sourcesContent":["import React, {useState} from \"react\"\nimport { graphql, Link } from \"gatsby\"\nimport Header from \"../../components/shared/header\"\nimport Footer from \"../../components/shared/footer\"\nimport BlogLayout from \"../../components/blog/blogLayout\"\nimport MenuCategory from \"../../components/blog/menuCategory\"\nimport PropTypes from \"prop-types\"\nimport SEO from \"../../components/shared/seo\"\nimport Flip from 'react-reveal/Flip'\nimport { GreyButton } from \"../../components/style/styled\"\nimport Bg from \"../../images/blog/colorful-world.jpg\"\nimport { backgroundMovement } from \"../../utils/hooks/backgroundMovement\"\n\nconst blogTemplate = ({ data: {allMdx}, pageContext }) => {\n\tconst [tagMenu, toggleTagMenu] = useState(false);\n\n\tfunction handleTagMenu() {\n\t\ttoggleTagMenu(!tagMenu);\n\t}\n\n\tbackgroundMovement(\"blogBackground\");\n\n\treturn (\n\t\t<>\n\t\t\t<SEO \n\t\t\t\t\ttitle=\"Blog\" \n\t\t\t\t\tkeywords={[\"the university of sheffield\", \"data visualisation\", \"data visualisation hub\", \"research\"]} \n\t\t\t/>\n\t\t\t<Header />\n\t\t\t{/* Height={`${pageContext.currentPage != 1 ? `50vh` : ``}`} */}\n\t\t\t<div \n\t\t\t\tclassName={`${pageContext.currentPage != 1 ? \"min-h-60\" : \"min-h-100\"} w-full overflow-hidden flex flex-col items-center justify-center text-center relative z-10`} \n\t\t\t\tstyle={{\n\t\t\t\t\t//backgroundImage: 'linear-gradient(225deg, rgb(37,29,90) 0%, rgba(0,102,179,1) 35%, rgba(0,212,255,1) 100%)'\n\t\t\t\t\t//backgroundImage: `url(${Bg})`\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div \n\t\t\t\t\tid=\"blogBackground\"\n\t\t\t\t\tclassName=\"absolute top-0 left-0 w-full h-full transform scale-110\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackground: `linear-gradient(0deg, rgba(255, 255, 255, 0.70), rgba(255, 255, 255, 0.70)), url(${Bg})`,\n\t\t\t\t\t\tbackgroundPosition: 'center',\n\t\t\t\t\t\tbackgroundSize: 'cover',\n\t\t\t\t\t\tbackgroundAttachment: 'fixed'\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t</div>\n\n\t\t\t\t<Flip cascade top delay={700}>\n\t\t\t\t\t<div className=\"text-black\" style={{textShadow: \"#fff 0px 0px 5px\"}}>\t\n\t\t\t\t\t\t<h1 className=\"text-6xl font-extrabold\">Blog</h1>\n\t\t\t\t\t\t<p className=\"text-md font-semibold mt-5 px-5\" style={{maxWidth: '500px'}}>&ldquo;The greatest value of a picture is when it forces us to notice what we never expected to see.&rdquo; - John W. Tukey</p> \n\t\t\t\t\t</div>\n\t\t\t\t</Flip>\n\t\t\t\t<Flip cascade top delay={700} >\n\t\t\t\t\t<div className={`${pageContext.currentPage !== 1 ? `hidden` : ``}`}>\n\t\t\t\t\t\t<MenuCategory \n\t\t\t\t\t\t\tpageContext = {pageContext} \t\t\t\t\n\t\t\t\t\t\t\thandleTagMenu={handleTagMenu} \n\t\t\t\t\t\t\ttagMenu={tagMenu} \n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<div className=\"mt-10\">\n\t\t\t\t\t\t\t<Link to=\"/blog#read\">\n\t\t\t\t\t\t\t\t<GreyButton className=\"text-sm bg-gray-700 text-white hover:bg-black\">Start reading</GreyButton>\n\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</Flip>\n\t\t\t\t\n\t\t\t</div>\n\n\t\t\t{/* blog posts & tag menu */}\n\t\t\t<BlogLayout \n\t\t\t\tallMdx={allMdx} \n\t\t\t\tpageContext={pageContext} \n\t\t\t\tpageType={\"/blog\"}\t\n\t\t\t\thandleTagMenu={handleTagMenu} \n\t\t\t\ttagMenu={tagMenu}\n\t\t\t/>\n\t\t\t<Footer />\n\t\t</>\n\t)\n}\n\nexport default blogTemplate\n\nblogTemplate.propTypes = {\n\t\tpageContext: PropTypes.any,\n\t\tdata: PropTypes.any\n}\n\nexport const query = graphql`\n\tquery blogList($skip: Int!, $limit: Int!) {\n\t\tallMdx(\n\t\t\tfilter: { frontmatter: { type: { eq: null }, isPublished: {ne: false} } }\n\t\t\tsort: { fields: [frontmatter___date], order: DESC }\n\t\t\tlimit: $limit\n\t\t\tskip: $skip\n\t\t) {\n\t\t\t...MdxEdge\n\t\t}\n\t}\n`","import { useState, useEffect } from 'react';\n\n/**  \n* Move background on mouse movement\n* @elementId string: background element\n* @parent boolean: whether to move background on mouse hovering parent element of 'elementId'\n* Make sure to add the style overflow: hidden to parent/element, and add the style transform: scale(1.1) to the element\n*/\nexport function backgroundMovement(elementId, parent = true, xFactor = 0.06, yFactor = 0.05) {\n  // Keep track of script status (\"idle\", \"loading\", \"ready\", \"error\")\n  const [xLocation, setXLocation] = useState(0);\n  const [yLocation, setYLocation] = useState(0);\n\n  useEffect(\n    () => {\n      const onMouseMove = (event) => {\n        // calculate mouse movement\n        //console.log(xLocation + \", \" + yLocation)\n        //console.log(event.clientX - xLocation)\n        let xMove = event.clientX - xLocation;\n        let yMove = event.clientY - yLocation;\n\n        // update mouse location\n        setXLocation(event.clientX);\n        setYLocation(event.clientY);\n        \n        // move background according to difference\n        background.style.top = (-yFactor * yMove + parseInt(getComputedStyle(background).getPropertyValue('top'))) + \"px\";\n        background.style.left = (-xFactor * xMove + parseInt(getComputedStyle(background).getPropertyValue('left'))) + \"px\";\n      };\n\n\n      var background = document.querySelector(`#${elementId}`);\n      background.style.transition = \"none\";\n\n      if (!background) {\n        return;\n      }\n      var hoverElement = background;\n      if (parent === true) {\n        hoverElement = background.parentElement;\n      }\n      \n      // hoverElement.addEventListener(\"mouseenter\", () => {\n      //   if (window) {\n      //     setXLocation(window.screen.width/2);\n      //     setYLocation(window.screen.height/2);\n      //   }\n      // });\n      hoverElement.addEventListener(\"mousemove\", onMouseMove);\n      hoverElement.addEventListener(\"mouseleave\", () => {\n        background.style.transition = \".5s ease\";\n        background.style.top = 0;\n        background.style.left = 0;\n      });\n\n      // Remove event listeners on cleanup\n      return () => {\n        if (background) {\n          hoverElement.removeEventListener(\"mousemove\", onMouseMove);\n          hoverElement.removeEventListener(\"mouseleave\", () => {\n            background.style.transition = \"none\";\n          });\n          // hoverElement.removeEventListener(\"mouseenter\", () => {});\n        }\n      };\n    },\n    [xLocation] // Only re-run effect if script src changes\n  );\n\n  return;\n}"],"sourceRoot":""}