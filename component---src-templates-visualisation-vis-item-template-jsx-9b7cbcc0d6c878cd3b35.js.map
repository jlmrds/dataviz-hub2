{"version":3,"sources":["webpack://datavizhub-tuos/./src/components/style/visStyle.jsx","webpack://datavizhub-tuos/./node_modules/html-to-image/es/util.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/clonePseudoElements.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/cloneNode.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/getBlobFromURL.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/embedResources.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/embedImages.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/embedWebFonts.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/createSvgDataURL.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/applyStyleWithOptions.js","webpack://datavizhub-tuos/./node_modules/html-to-image/es/index.js","webpack://datavizhub-tuos/./src/components/visualisation/visDownload.jsx","webpack://datavizhub-tuos/./src/components/visualisation/visPagination.jsx","webpack://datavizhub-tuos/./src/components/visualisation/visDetail.jsx","webpack://datavizhub-tuos/./src/templates/visualisation/visItemTemplate.jsx","webpack://datavizhub-tuos/./node_modules/lodash/_arrayReduce.js","webpack://datavizhub-tuos/./node_modules/lodash/_asciiWords.js","webpack://datavizhub-tuos/./node_modules/lodash/_basePropertyOf.js","webpack://datavizhub-tuos/./node_modules/lodash/_createCompounder.js","webpack://datavizhub-tuos/./node_modules/lodash/_deburrLetter.js","webpack://datavizhub-tuos/./node_modules/lodash/_hasUnicodeWord.js","webpack://datavizhub-tuos/./node_modules/lodash/_unicodeWords.js","webpack://datavizhub-tuos/./node_modules/lodash/deburr.js","webpack://datavizhub-tuos/./node_modules/lodash/kebabCase.js","webpack://datavizhub-tuos/./node_modules/lodash/words.js"],"names":["ShareButton","styled","VisItem","props","row","col","VisDiv","WordCloud","width","height","radius","backgroundColour","visHelperButton","VisTagMenuBtn","VisFooterBtn","VisBackBtn","counter","Pseudo","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","WOFF","JPEG","mimes","woff","woff2","ttf","eot","png","jpg","jpeg","gif","tiff","svg","uuid","concat","Math","random","pow","toString","slice","getMimeType","url","ext","match","exec","getExtension","toLowerCase","delay","ms","args","setTimeout","isDataUrl","search","toDataURL","content","mimeType","getDataURLContent","dataURL","split","toArray","arrayLike","i","l","length","push","px","node","styleProperty","val","window","getComputedStyle","getPropertyValue","parseFloat","replace","getNodeWidth","leftBorder","rightBorder","clientWidth","getNodeHeight","topBorder","bottomBorder","clientHeight","getPixelRatio","ratio","FINAL_PROCESS","process","env","devicePixelRatio","parseInt","isNaN","createImage","image","Image","onload","onerror","crossOrigin","src","clonePseudoElements","nativeNode","clonedNode","forEach","pseudo","clonePseudoElement","style","className","err","styleElement","document","createElement","appendChild","selector","cssText","formatCssText","map","name","priority","getPropertyPriority","join","formatCssProperties","createTextNode","getPseudoElementStyle","cloneSingleNode","this","_callee","_context","prev","HTMLCanvasElement","abrupt","cloneNode","stop","cloneChildren","filter","_a","_callee2","children","_context2","shadowRoot","childNodes","reduce","child","clonedChild","decorate","_callee3","_context3","Element","cloneCssStyle","cloneInputValue","source","target","setProperty","HTMLTextAreaElement","innerHTML","HTMLInputElement","setAttribute","isRoot","_callee4","_context4","cache","getBlobFromURL","options","href","test","cacheBust","Date","getTime","promise","fetch","response","res","rej","blob","contentType","headers","get","_ref","reader","FileReader","onloadend","readAsDataURL","_ref2","catch","req","XMLHttpRequest","onreadystatechange","readyState","status","encoder","getResponseHeader","Error","ontimeout","responseType","timeout","open","send","reason","placeholder","imagePlaceholder","parts","msg","message","console","error","URL_REGEX","URL_WITH_FORMAT_REGEX","FONT_SRC_REGEX","shouldEmbed","string","embedResources","cssString","baseUrl","str","preferredFontFormat","filteredCssString","_ref3","format","parseURLs","urls","ret","resourceURL","baseURL","resolvedURL","location","protocol","doc","implementation","createHTMLDocument","base","a","head","body","resolveUrl","data","RegExp","urlToRegex","raw","quotation","embedImages","embedBackground","embedImageNode","embedChildren","background","HTMLImageElement","deferreds","all","cssFetchPromiseStore","parseWebFontRules","ownerDocument","styleSheets","getCssRules","getWebFontRules","embedWebFonts","fontEmbedCss","styleNode","sytleContent","firstChild","insertBefore","rules","rule","parentStyleSheet","cssStrings","promises","sheet","cssRules","item","index","type","CSSRule","IMPORT_RULE","importIndex","fetchCSS","embedFonts","parseCSS","insertRule","startsWith","log","inline","find","FONT_FACE_RULE","undefined","css","importRegex","arr","keyframesRegex","unified","lastIndex","text","_callee5","_context5","resolved","regexUrlFind","fontLoadedPromises","URL","addEventListener","createSvgDataURL","xmlns","createElementNS","foreignObject","setAttributeNS","XMLSerializer","serializeToString","encodeURIComponent","html","svgToDataURL","applyStyleWithOptions","backgroundColor","manual","Object","keys","key","getImageSize","domNode","arguments","toSvg","_getImageSize","toCanvas","canvas","context","getContext","pixelRatio","_getImageSize2","canvasWidth","canvasHeight","fillStyle","fillRect","drawImage","mdx","useState","menu","setMenu","targetVis","setTargetVis","pngImagePath","frontmatter","relativePath","pngExternalImagePath","svgImagePath","svgExternalImagePath","folderLink","useEffect","getElementById","title","onClick","left","top","transform","maxWidth","disabled","handleImageDownload","visElement","mdxObject","svgPath","link","checkURL","htmlToImage","createLinkForImage","kebabCase","alert","downloadAsSvg","pngPath","downloadAsPng","fileName","imageURL","download","click","myString","includes","shareLinks","githubLink","shareLink","shareMessage","pageContext","buttonStyle","Link","to","fields","slug","Twitter","solid","small","Facebook","Mail","subject","Linkedin","rel","displayDescription","displayAuthor","displayTag","authors","author","categories","category","tags","tag","description","G","data-tip","avatar","childImageSharp","gatsbyImageData","alt","place","effect","idx","date","cat","currentTag","components","VisPagination","VisDetail","getShareLinks","template","d3","d","useScript","withPrefix","id","keywords","Helmet","async","charset","navigate","localStorage","getItem","displayPagination","displayTags","displayShareButtons","module","exports","array","iteratee","accumulator","initAccum","reAsciiWord","object","arrayReduce","deburr","words","reApos","callback","deburrLetter","basePropertyOf","reHasUnicodeWord","rsDingbatRange","rsLowerRange","rsUpperRange","rsBreakRange","rsMathOpRange","rsBreak","rsDigits","rsDingbat","rsLower","rsMisc","rsRegional","rsSurrPair","rsUpper","rsMiscLower","rsMiscUpper","rsOptContrLower","rsOptContrUpper","reOptMod","rsModifier","rsOptVar","rsSeq","rsEmoji","reUnicodeWord","reLatin","reComboMark","createCompounder","word","asciiWords","hasUnicodeWord","unicodeWords","pattern","guard"],"mappings":"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","file":"component---src-templates-visualisation-vis-item-template-jsx-9b7cbcc0d6c878cd3b35.js","sourcesContent":["import styled from \"styled-components\"\n\n\nexport const ShareButton = styled.div`\n  a {\n    margin: 0\n  }\n`\n\nexport const VisItem = styled.div`\n  display: block;\n  height: 100%;\n  width: 100%;\n  position: relative;\n\n  ${props => {\n    if (props.row == 1 && props.col > 1) {\n      return `\n        padding-bottom: calc(100% / ${props.col});\n      `\n    }\n    if (props.col == 1 && props.row > 1) {\n      return `\n        padding-bottom: calc(${props.row} * 100%);\n      `\n    }\n    if (props.col != 1 && props.row != 1) {\n      return `\n        padding-bottom: calc(${props.row} / ${props.col} * 100%);\n      `\n    }\n\n    return `\n      padding-bottom: 100%;\n    `\n  }}\n\n  @media screen and (max-width: 768px) {\n    padding-bottom: inherit;\n  }\n`\n\nexport const VisDiv = styled.div`\n  max-width: 550px;\n  margin: auto;\n`\n\nexport const WordCloud = styled.div`\n  text-align: center;\n  width: ${props => props.width || '50%'};\n  height: ${props => props.height || '55%'};\n  border-radius: ${props => props.radius || '10px'};\n  overflow-y: hidden;\n  overflow-x: clip;\n  padding: 1rem;\n\n  @media (max-width: 768px) {\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-width: 1440px) {\n    width: ${props => props.width || '60%'};\n    height: ${props => props.height || '55%'};\n  }\n  \n  &::before{\n    content: '';\n    height: 100%;\n    width: 50%;\n    float: left;\n    shape-outside: polygon(\n      0 0,\n      100% 0,\n      60% 4%,\n      40% 10%,\n      20% 20%,\n      10% 28.2%,\n      5% 34.4%,\n      0 50%,\n      5% 65.6%,\n      10% 71.8%,\n      20% 80%,\n      40% 90%,\n      60% 96%,\n      100% 100%,\n      0% 100%\n    );\n  }\n  div.word-cloud-wrap {\n    text-align: center;\n    display: contents;\n  }\n\n  div.word-cloud-wrap::before{\n    content: '';\n    height: 100%;\n    width: 50%;\n    float: right;\n    shape-outside: polygon(\n      100% 0,\n      0 0,\n      40% 4%,\n      60% 10%,\n      80% 20%,\n      90% 28.2%,\n      95% 34.4%,\n      100% 50%,\n      95% 65.6%,\n      90% 71.8%,\n      80% 80%,\n      60% 90%,\n      40% 96%,\n      0 100%,\n      100% 100%\n    );\n  }\n\n  .word {\n    white-space: nowrap;\n    border-radius: 5px;\n    display: inline-block;\n    line-height: 1;\n    transition: .3s ease;\n    font-family: TUoS Blake;\n    vertical-align: middle;\n    padding: ${props => props.backgroundColour === true ? '8px 13px' : ''};\n    \n    &:hover {\n      color: #00aeef !important;\n      background-color: ${props => props.backgroundColour === true ? '#000' : ''} !important;\n    }\n  }\n`\n\nconst visHelperButton = styled.button`\n  position: fixed;\n  bottom: 20px;\n  width: 50px;\n  height: 50px;\n  text-decoration: none;\n  border-radius: 35px;\n  z-index: 99;\n  text-align: center;\n  visibility: invisible;\n  -webkit-transition: all 0.3s ease;\n  -ms-transition: all 0.3s ease;\n  -moz-transition: all 0.3s ease;  \n  -o-transition: all 0.3s ease;  \n  transition: all 0.3s ease;\n  cursor: pointer;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n  align-items: center;\n\n  &:focus {\n    outline: none;\n  }\n`\n\nexport const VisTagMenuBtn = styled(visHelperButton)`\n  opacity: 0;\n  right: 140px;\n  background-image: linear-gradient(135deg, rgb(255, 121, 180) 15%, rgb(255, 134, 250) 36%, rgb(41, 197, 255) 85%);\n\n  &:hover {\n    /*     background: rgba(0, 0, 0, 0.9); */\n  background-image: linear-gradient(45deg, rgb(255, 121, 180) 15%, rgb(255, 134, 250) 36%, rgb(41, 197, 255) 85%);\n  }\n`\n\nexport const VisFooterBtn = styled(visHelperButton)`\n  opacity: 0;\n  right: 80px;\n`\n\nexport const VisBackBtn = styled(visHelperButton)`\n  right: 80px;\n  opacity: 1;\n`","import _regeneratorRuntime from \"/home/runner/work/dataviz-hub2/dataviz-hub2/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nvar WOFF = 'application/font-woff';\nvar JPEG = 'image/jpeg';\nvar mimes = {\n  woff: WOFF,\n  woff2: WOFF,\n  ttf: 'application/font-truetype',\n  eot: 'application/vnd.ms-fontobject',\n  png: 'image/png',\n  jpg: JPEG,\n  jpeg: JPEG,\n  gif: 'image/gif',\n  tiff: 'image/tiff',\n  svg: 'image/svg+xml'\n};\nexport var uuid = function uuid() {\n  // generate uuid for className of pseudo elements.\n  // We should not use GUIDs, otherwise pseudo elements sometimes cannot be captured.\n  var counter = 0; // ref: http://stackoverflow.com/a/6248722/2519373\n\n  var random = function random() {\n    return \"0000\".concat((Math.random() * Math.pow(36, 4) << 0).toString(36)).slice(-4);\n  };\n\n  return function () {\n    counter += 1;\n    return \"u\".concat(random()).concat(counter);\n  };\n}();\nexport function getExtension(url) {\n  var match = /\\.([^./]*?)$/g.exec(url);\n  return match ? match[1] : '';\n}\nexport function getMimeType(url) {\n  var ext = getExtension(url).toLowerCase();\n  return mimes[ext] || '';\n}\nexport function delay(ms) {\n  return function (args) {\n    return new Promise(function (resolve) {\n      setTimeout(function () {\n        resolve(args);\n      }, ms);\n    });\n  };\n}\nexport function isDataUrl(url) {\n  return url.search(/^(data:)/) !== -1;\n}\nexport function toDataURL(content, mimeType) {\n  return \"data:\".concat(mimeType, \";base64,\").concat(content);\n}\nexport function getDataURLContent(dataURL) {\n  return dataURL.split(/,/)[1];\n}\n\nfunction toBlob(canvas) {\n  return new Promise(function (resolve) {\n    var binaryString = window.atob(canvas.toDataURL().split(',')[1]);\n    var len = binaryString.length;\n    var binaryArray = new Uint8Array(len);\n\n    for (var i = 0; i < len; i += 1) {\n      binaryArray[i] = binaryString.charCodeAt(i);\n    }\n\n    resolve(new Blob([binaryArray], {\n      type: 'image/png'\n    }));\n  });\n}\n\nexport function canvasToBlob(canvas) {\n  if (canvas.toBlob) {\n    return new Promise(function (resolve) {\n      return canvas.toBlob(resolve);\n    });\n  }\n\n  return toBlob(canvas);\n}\nexport function toArray(arrayLike) {\n  var result = [];\n\n  for (var i = 0, l = arrayLike.length; i < l; i += 1) {\n    result.push(arrayLike[i]);\n  }\n\n  return result;\n}\n\nfunction px(node, styleProperty) {\n  var val = window.getComputedStyle(node).getPropertyValue(styleProperty);\n  return parseFloat(val.replace('px', ''));\n}\n\nexport function getNodeWidth(node) {\n  var leftBorder = px(node, 'border-left-width');\n  var rightBorder = px(node, 'border-right-width');\n  return node.clientWidth + leftBorder + rightBorder;\n}\nexport function getNodeHeight(node) {\n  var topBorder = px(node, 'border-top-width');\n  var bottomBorder = px(node, 'border-bottom-width');\n  return node.clientHeight + topBorder + bottomBorder;\n}\nexport function getPixelRatio() {\n  var ratio;\n  var FINAL_PROCESS;\n\n  try {\n    FINAL_PROCESS = process;\n  } catch (e) {}\n\n  var val = FINAL_PROCESS && FINAL_PROCESS.env ? FINAL_PROCESS.env.devicePixelRatio : null;\n\n  if (val) {\n    ratio = parseInt(val, 10);\n\n    if (isNaN(ratio)) {\n      ratio = 1;\n    }\n  }\n\n  return ratio || window.devicePixelRatio || 1;\n}\nexport function createImage(url) {\n  return new Promise(function (resolve, reject) {\n    var image = new Image();\n\n    image.onload = function () {\n      return resolve(image);\n    };\n\n    image.onerror = reject;\n    image.crossOrigin = 'anonymous';\n    image.src = url;\n  });\n}\nexport function svgToDataURL(svg) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", Promise.resolve().then(function () {\n              return new XMLSerializer().serializeToString(svg);\n            }).then(encodeURIComponent).then(function (html) {\n              return \"data:image/svg+xml;charset=utf-8,\".concat(html);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\nexport function getBlobFromImageURL(url) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", createImage(url).then(function (image) {\n              var width = image.width,\n                  height = image.height;\n              var canvas = document.createElement('canvas');\n              var context = canvas.getContext('2d');\n              var ratio = getPixelRatio();\n              canvas.width = width * ratio;\n              canvas.height = height * ratio;\n              canvas.style.width = \"\".concat(width);\n              canvas.style.height = \"\".concat(height);\n              context.scale(ratio, ratio);\n              context.drawImage(image, 0, 0);\n              var dataURL = canvas.toDataURL(getMimeType(url));\n              return getDataURLContent(dataURL);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}","import { uuid, toArray } from './util';\nexport function clonePseudoElements(nativeNode, clonedNode) {\n  var pseudos = [':before', ':after'];\n  pseudos.forEach(function (pseudo) {\n    return Pseudo.clonePseudoElement(nativeNode, clonedNode, pseudo);\n  });\n}\nvar Pseudo;\n\n(function (Pseudo) {\n  function clonePseudoElement(nativeNode, clonedNode, pseudo) {\n    var style = window.getComputedStyle(nativeNode, pseudo);\n    var content = style.getPropertyValue('content');\n\n    if (content === '' || content === 'none') {\n      return;\n    }\n\n    var className = uuid(); // fix: Cannot assign to read only property 'className' of object '#<…\n\n    try {\n      clonedNode.className = \"\".concat(clonedNode.className, \" \").concat(className);\n    } catch (err) {\n      return;\n    }\n\n    var styleElement = document.createElement('style');\n    styleElement.appendChild(getPseudoElementStyle(className, pseudo, style));\n    clonedNode.appendChild(styleElement);\n  }\n\n  Pseudo.clonePseudoElement = clonePseudoElement;\n\n  function getPseudoElementStyle(className, pseudo, style) {\n    var selector = \".\".concat(className, \":\").concat(pseudo);\n    var cssText = style.cssText ? formatCssText(style) : formatCssProperties(style);\n    return document.createTextNode(\"\".concat(selector, \"{\").concat(cssText, \"}\"));\n  }\n\n  function formatCssText(style) {\n    var content = style.getPropertyValue('content');\n    return \"\".concat(style.cssText, \" content: \").concat(content, \";\");\n  }\n\n  function formatCssProperties(style) {\n    return toArray(style).map(function (name) {\n      var value = style.getPropertyValue(name);\n      var priority = style.getPropertyPriority(name);\n      return \"\".concat(name, \": \").concat(value).concat(priority ? ' !important' : '', \";\");\n    }).join(' ');\n  }\n})(Pseudo || (Pseudo = {}));","import _regeneratorRuntime from \"/home/runner/work/dataviz-hub2/dataviz-hub2/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { clonePseudoElements } from './clonePseudoElements';\nimport { createImage, toArray } from './util';\n\nfunction cloneSingleNode(node) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var dataURL;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!(node instanceof HTMLCanvasElement)) {\n              _context.next = 5;\n              break;\n            }\n\n            dataURL = node.toDataURL();\n\n            if (!(dataURL === 'data:,')) {\n              _context.next = 4;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve(node.cloneNode(false)));\n\n          case 4:\n            return _context.abrupt(\"return\", createImage(dataURL));\n\n          case 5:\n            return _context.abrupt(\"return\", Promise.resolve(node.cloneNode(false)));\n\n          case 6:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nfunction cloneChildren(nativeNode, clonedNode, filter) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var children;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            children = toArray(((_a = nativeNode.shadowRoot) !== null && _a !== void 0 ? _a : nativeNode).childNodes);\n\n            if (!(children.length === 0)) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Promise.resolve(clonedNode));\n\n          case 3:\n            return _context2.abrupt(\"return\", children.reduce(function (done, child) {\n              return done.then(function () {\n                return cloneNode(child, filter);\n              }).then(function (clonedChild) {\n                if (clonedChild) {\n                  clonedNode.appendChild(clonedChild);\n                }\n              });\n            }, Promise.resolve()).then(function () {\n              return clonedNode;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\n\nfunction decorate(nativeNode, clonedNode) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            if (clonedNode instanceof Element) {\n              _context3.next = 2;\n              break;\n            }\n\n            return _context3.abrupt(\"return\", clonedNode);\n\n          case 2:\n            return _context3.abrupt(\"return\", Promise.resolve().then(function () {\n              return cloneCssStyle(nativeNode, clonedNode);\n            }).then(function () {\n              return clonePseudoElements(nativeNode, clonedNode);\n            }).then(function () {\n              return cloneInputValue(nativeNode, clonedNode);\n            }).then(function () {\n              return clonedNode;\n            }));\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}\n\nfunction cloneCssStyle(nativeNode, clonedNode) {\n  var source = window.getComputedStyle(nativeNode);\n  var target = clonedNode.style;\n  if (!target) return;\n\n  if (source.cssText) {\n    target.cssText = source.cssText;\n  } else {\n    toArray(source).forEach(function (name) {\n      target.setProperty(name, source.getPropertyValue(name), source.getPropertyPriority(name));\n    });\n  }\n}\n\nfunction cloneInputValue(nativeNode, clonedNode) {\n  if (nativeNode instanceof HTMLTextAreaElement) {\n    clonedNode.innerHTML = nativeNode.value;\n  }\n\n  if (nativeNode instanceof HTMLInputElement) {\n    clonedNode.setAttribute('value', nativeNode.value);\n  }\n}\n\nexport function cloneNode(nativeNode, filter, isRoot) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            if (!(!isRoot && filter && !filter(nativeNode))) {\n              _context4.next = 2;\n              break;\n            }\n\n            return _context4.abrupt(\"return\", Promise.resolve(null));\n\n          case 2:\n            return _context4.abrupt(\"return\", Promise.resolve(nativeNode).then(cloneSingleNode).then(function (clonedNode) {\n              return cloneChildren(nativeNode, clonedNode, filter);\n            }).then(function (clonedNode) {\n              return decorate(nativeNode, clonedNode);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n}","/* tslint:disable:max-line-length */\nimport { getDataURLContent } from './util'; // KNOWN ISSUE\n// -----------\n// Can not handle redirect-url, such as when access 'http://something.com/avatar.png'\n// will redirect to 'http://something.com/65fc2ffcc8aea7ba65a1d1feda173540'\n\nvar TIMEOUT = 30000;\nvar cache = {};\n\nfunction isFont(filename) {\n  return /ttf|otf|eot|woff2?/i.test(filename);\n}\n\nexport function getBlobFromURL(url, options) {\n  var href = url.replace(/\\?.*/, '');\n\n  if (isFont(href)) {\n    href = href.replace(/.*\\//, '');\n  }\n\n  if (cache[href]) {\n    return cache[href];\n  } // cache bypass so we dont have CORS issues with cached images\n  // ref: https://developer.mozilla.org/en/docs/Web/API/XMLHttpRequest/Using_XMLHttpRequest#Bypassing_the_cache\n\n\n  if (options.cacheBust) {\n    // tslint:disable-next-line\n    url += (/\\?/.test(url) ? '&' : '?') + new Date().getTime();\n  }\n\n  var failed = function failed(reason) {\n    var placeholder = '';\n\n    if (options.imagePlaceholder) {\n      var parts = options.imagePlaceholder.split(/,/);\n\n      if (parts && parts[1]) {\n        placeholder = parts[1];\n      }\n    }\n\n    var msg = \"Failed to fetch resource: \".concat(url);\n\n    if (reason) {\n      msg = typeof reason === 'string' ? reason : reason.message;\n    }\n\n    if (msg) {\n      console.error(msg);\n    }\n\n    return placeholder;\n  };\n\n  var deferred = window.fetch ? window.fetch(url).then(function (response) {\n    return new Promise(function (res, rej) {\n      response.blob().then(function (blob) {\n        res({\n          blob: blob,\n          contentType: response.headers.get('Content-Type')\n        });\n      });\n    });\n  }).then(function (_ref) {\n    var blob = _ref.blob,\n        contentType = _ref.contentType;\n    return new Promise(function (resolve, reject) {\n      var reader = new FileReader();\n\n      reader.onloadend = function () {\n        return resolve({\n          contentType: contentType,\n          blob: reader.result\n        });\n      };\n\n      reader.onerror = reject;\n      reader.readAsDataURL(blob);\n    });\n  }).then(function (_ref2) {\n    var blob = _ref2.blob,\n        contentType = _ref2.contentType;\n    return {\n      contentType: contentType,\n      blob: getDataURLContent(blob)\n    };\n  }).catch(function () {\n    return new Promise(function (resolve, reject) {\n      return reject();\n    });\n  }) : new Promise(function (resolve, reject) {\n    var req = new XMLHttpRequest();\n\n    var timeout = function timeout() {\n      reject(new Error(\"Timeout of \".concat(TIMEOUT, \"ms occured while fetching resource: \").concat(url)));\n    };\n\n    var done = function done() {\n      if (req.readyState !== 4) {\n        return;\n      }\n\n      if (req.status !== 200) {\n        reject(new Error(\"Failed to fetch resource: \".concat(url, \", status: \").concat(req.status)));\n        return;\n      }\n\n      var encoder = new FileReader();\n\n      encoder.onloadend = function () {\n        resolve({\n          blob: getDataURLContent(encoder.result),\n          contentType: req.getResponseHeader('Content-Type') || ''\n        });\n      };\n\n      encoder.readAsDataURL(req.response);\n    };\n\n    req.onreadystatechange = done;\n    req.ontimeout = timeout;\n    req.responseType = 'blob';\n    req.timeout = TIMEOUT;\n    req.open('GET', url, true);\n    req.send();\n  });\n  var promise = deferred.catch(failed);\n  cache[href] = promise;\n  return promise;\n}","import _slicedToArray from \"/home/runner/work/dataviz-hub2/dataviz-hub2/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nimport { getBlobFromURL } from './getBlobFromURL';\nimport { isDataUrl, toDataURL, getMimeType } from './util';\nvar URL_REGEX = /url\\((['\"]?)([^'\"]+?)\\1\\)/g;\nvar URL_WITH_FORMAT_REGEX = /url\\([^)]+\\)\\s*format\\(([\"'])([^\"']+)\\1\\)/g;\nvar FONT_SRC_REGEX = /src:\\s*(?:url\\([^)]+\\)\\s*format\\([^)]+\\)[,;]\\s*)+/g;\nexport function shouldEmbed(string) {\n  return string.search(URL_REGEX) !== -1;\n}\nexport function embedResources(cssString, baseUrl, options) {\n  if (!shouldEmbed(cssString)) {\n    return Promise.resolve(cssString);\n  }\n\n  var filteredCssString = filterPreferredFontFormat(cssString, options);\n  return Promise.resolve(filteredCssString).then(parseURLs).then(function (urls) {\n    return urls.reduce(function (done, url) {\n      return done.then(function (ret) {\n        return embed(ret, url, baseUrl, options);\n      });\n    }, Promise.resolve(filteredCssString));\n  });\n}\nexport function filterPreferredFontFormat(str, _ref) {\n  var preferredFontFormat = _ref.preferredFontFormat;\n  return !preferredFontFormat ? str : str.replace(FONT_SRC_REGEX, function (match) {\n    while (true) {\n      var _ref2 = URL_WITH_FORMAT_REGEX.exec(match) || [],\n          _ref3 = _slicedToArray(_ref2, 3),\n          src = _ref3[0],\n          format = _ref3[2];\n\n      if (!format) {\n        return '';\n      }\n\n      if (format === preferredFontFormat) {\n        return \"src: \".concat(src, \";\");\n      }\n    }\n  });\n}\nexport function parseURLs(str) {\n  var result = [];\n  str.replace(URL_REGEX, function (raw, quotation, url) {\n    result.push(url);\n    return raw;\n  });\n  return result.filter(function (url) {\n    return !isDataUrl(url);\n  });\n}\nexport function embed(cssString, resourceURL, baseURL, options, get) {\n  var resolvedURL = baseURL ? resolveUrl(resourceURL, baseURL) : resourceURL;\n  return Promise.resolve(resolvedURL).then(function (url) {\n    return get ? get(url) : getBlobFromURL(url, options);\n  }).then(function (data) {\n    if (typeof data === 'string') {\n      return toDataURL(data, getMimeType(resourceURL));\n    }\n\n    return toDataURL(data.blob, getMimeType(resourceURL) || data.contentType);\n  }).then(function (dataURL) {\n    return cssString.replace(urlToRegex(resourceURL), \"$1\".concat(dataURL, \"$3\"));\n  }).then(function (content) {\n    return content;\n  }, function () {\n    return resolvedURL;\n  });\n}\n\nfunction resolveUrl(url, baseUrl) {\n  // url is absolute already\n  if (url.match(/^[a-z]+:\\/\\//i)) {\n    return url;\n  } // url is absolute already, without protocol\n\n\n  if (url.match(/^\\/\\//)) {\n    return window.location.protocol + url;\n  } // dataURI, mailto:, tel:, etc.\n\n\n  if (url.match(/^[a-z]+:/i)) {\n    return url;\n  }\n\n  var doc = document.implementation.createHTMLDocument();\n  var base = doc.createElement('base');\n  var a = doc.createElement('a');\n  doc.head.appendChild(base);\n  doc.body.appendChild(a);\n\n  if (baseUrl) {\n    base.href = baseUrl;\n  }\n\n  a.href = url;\n  return a.href;\n}\n\nfunction urlToRegex(url) {\n  return new RegExp(\"(url\\\\(['\\\"]?)(\".concat(escape(url), \")(['\\\"]?\\\\))\"), 'g');\n}\n\nfunction escape(url) {\n  return url.replace(/([.*+?^${}()|\\[\\]\\/\\\\])/g, '\\\\$1');\n}","import _regeneratorRuntime from \"/home/runner/work/dataviz-hub2/dataviz-hub2/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { getBlobFromURL } from './getBlobFromURL';\nimport { embedResources } from './embedResources';\nimport { toArray, isDataUrl, toDataURL, getMimeType } from './util';\nexport function embedImages(clonedNode, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (clonedNode instanceof Element) {\n              _context.next = 2;\n              break;\n            }\n\n            return _context.abrupt(\"return\", Promise.resolve(clonedNode));\n\n          case 2:\n            return _context.abrupt(\"return\", Promise.resolve(clonedNode).then(function (node) {\n              return embedBackground(node, options);\n            }).then(function (node) {\n              return embedImageNode(node, options);\n            }).then(function (node) {\n              return embedChildren(node, options);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\n\nfunction embedBackground(clonedNode, options) {\n  var _a;\n\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    var background;\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            background = (_a = clonedNode.style) === null || _a === void 0 ? void 0 : _a.getPropertyValue('background');\n\n            if (background) {\n              _context2.next = 3;\n              break;\n            }\n\n            return _context2.abrupt(\"return\", Promise.resolve(clonedNode));\n\n          case 3:\n            return _context2.abrupt(\"return\", Promise.resolve(background).then(function (cssString) {\n              return embedResources(cssString, null, options);\n            }).then(function (cssString) {\n              clonedNode.style.setProperty('background', cssString, clonedNode.style.getPropertyPriority('background'));\n              return clonedNode;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\n\nfunction embedImageNode(clonedNode, options) {\n  if (!(clonedNode instanceof HTMLImageElement) || isDataUrl(clonedNode.src)) {\n    return Promise.resolve(clonedNode);\n  }\n\n  return Promise.resolve(clonedNode.src).then(function (url) {\n    return getBlobFromURL(url, options);\n  }).then(function (data) {\n    return toDataURL(data.blob, getMimeType(clonedNode.src) || data.contentType);\n  }).then(function (dataURL) {\n    return new Promise(function (resolve, reject) {\n      clonedNode.onload = resolve;\n      clonedNode.onerror = reject;\n      clonedNode.src = dataURL;\n    });\n  }).then(function () {\n    return clonedNode;\n  }, function () {\n    return clonedNode;\n  });\n}\n\nfunction embedChildren(clonedNode, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var children, deferreds;\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            children = toArray(clonedNode.childNodes);\n            deferreds = children.map(function (child) {\n              return embedImages(child, options);\n            });\n            return _context3.abrupt(\"return\", Promise.all(deferreds).then(function () {\n              return clonedNode;\n            }));\n\n          case 3:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}","import _regeneratorRuntime from \"/home/runner/work/dataviz-hub2/dataviz-hub2/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { toArray } from './util';\nimport { shouldEmbed, embedResources } from './embedResources';\nvar cssFetchPromiseStore = {};\nexport function parseWebFontRules(clonedNode) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n              if (!clonedNode.ownerDocument) {\n                reject(new Error('Provided element is not within a Document'));\n              }\n\n              resolve(toArray(clonedNode.ownerDocument.styleSheets));\n            }).then(function (styleSheets) {\n              return getCssRules(styleSheets);\n            }).then(getWebFontRules));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\nexport function embedWebFonts(clonedNode, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", (options.fontEmbedCss != null ? Promise.resolve(options.fontEmbedCss) : getWebFontCss(clonedNode, options)).then(function (cssString) {\n              var styleNode = document.createElement('style');\n              var sytleContent = document.createTextNode(cssString);\n              styleNode.appendChild(sytleContent);\n\n              if (clonedNode.firstChild) {\n                clonedNode.insertBefore(styleNode, clonedNode.firstChild);\n              } else {\n                clonedNode.appendChild(styleNode);\n              }\n\n              return clonedNode;\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\nexport function getWebFontCss(node, options) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            return _context3.abrupt(\"return\", parseWebFontRules(node).then(function (rules) {\n              return Promise.all(rules.map(function (rule) {\n                var baseUrl = rule.parentStyleSheet ? rule.parentStyleSheet.href : null;\n                return embedResources(rule.cssText, baseUrl, options);\n              }));\n            }).then(function (cssStrings) {\n              return cssStrings.join('\\n');\n            }));\n\n          case 1:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}\nexport function getCssRules(styleSheets) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    var ret, promises;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            ret = [];\n            promises = []; // First loop inlines imports\n\n            styleSheets.forEach(function (sheet) {\n              if ('cssRules' in sheet) {\n                try {\n                  toArray(sheet.cssRules).forEach(function (item, index) {\n                    if (item.type === CSSRule.IMPORT_RULE) {\n                      var importIndex = index + 1;\n                      promises.push(fetchCSS(item.href, sheet).then(embedFonts).then(function (cssText) {\n                        var parsed = parseCSS(cssText);\n                        parsed.forEach(function (rule) {\n                          try {\n                            sheet.insertRule(rule, rule.startsWith('@import') ? importIndex = importIndex + 1 : sheet.cssRules.length);\n                          } catch (error) {\n                            console.log('Error inserting rule from remote css', {\n                              rule: rule,\n                              error: error\n                            });\n                          }\n                        });\n                      }).catch(function (e) {\n                        console.log('Error loading remote css', e.toString());\n                      }));\n                    }\n                  });\n                } catch (e) {\n                  var inline = styleSheets.find(function (a) {\n                    return a.href === null;\n                  }) || document.styleSheets[0];\n\n                  if (sheet.href != null) {\n                    promises.push(fetchCSS(sheet.href, inline).then(embedFonts).then(function (cssText) {\n                      var parsed = parseCSS(cssText);\n                      parsed.forEach(function (rule) {\n                        inline.insertRule(rule, sheet.cssRules.length);\n                      });\n                    }).catch(function (e) {\n                      console.log('Error loading remote stylesheet', e.toString());\n                    }));\n                  }\n\n                  console.log('Error inlining remote css file', e.toString());\n                }\n              }\n            });\n            return _context4.abrupt(\"return\", Promise.all(promises).then(function () {\n              // Second loop parses rules\n              styleSheets.forEach(function (sheet) {\n                if ('cssRules' in sheet) {\n                  try {\n                    toArray(sheet.cssRules).forEach(function (item) {\n                      ret.push(item);\n                    });\n                  } catch (e) {\n                    console.log(\"Error while reading CSS rules from \".concat(sheet.href), e.toString());\n                  }\n                }\n              });\n              return ret;\n            }));\n\n          case 4:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n}\n\nfunction getWebFontRules(cssRules) {\n  return cssRules.filter(function (rule) {\n    return rule.type === CSSRule.FONT_FACE_RULE;\n  }).filter(function (rule) {\n    return shouldEmbed(rule.style.getPropertyValue('src'));\n  });\n}\n\nfunction parseCSS(source) {\n  if (source === undefined) {\n    return [];\n  }\n\n  var cssText = source;\n  var css = [];\n  var cssKeyframeRegex = '((@.*?keyframes [\\\\s\\\\S]*?){([\\\\s\\\\S]*?}\\\\s*?)})';\n  var combinedCSSRegex = '((\\\\s*?(?:\\\\/\\\\*[\\\\s\\\\S]*?\\\\*\\\\/)?\\\\s*?@media[\\\\s\\\\S]' + '*?){([\\\\s\\\\S]*?)}\\\\s*?})|(([\\\\s\\\\S]*?){([\\\\s\\\\S]*?)})'; // to match css & media queries together\n\n  var cssCommentsRegex = /(\\/\\*[\\s\\S]*?\\*\\/)/gi;\n  var importRegex = /@import[\\s\\S]*?url\\([^)]*\\)[\\s\\S]*?;/gi; // strip out comments\n\n  cssText = cssText.replace(cssCommentsRegex, '');\n  var keyframesRegex = new RegExp(cssKeyframeRegex, 'gi');\n  var arr;\n\n  while (true) {\n    arr = keyframesRegex.exec(cssText);\n\n    if (arr === null) {\n      break;\n    }\n\n    css.push(arr[0]);\n  }\n\n  cssText = cssText.replace(keyframesRegex, ''); // unified regex\n\n  var unified = new RegExp(combinedCSSRegex, 'gi');\n\n  while (true) {\n    arr = importRegex.exec(cssText);\n\n    if (arr === null) {\n      arr = unified.exec(cssText);\n\n      if (arr === null) {\n        break;\n      } else {\n        importRegex.lastIndex = unified.lastIndex;\n      }\n    } else {\n      unified.lastIndex = importRegex.lastIndex;\n    }\n\n    css.push(arr[0]);\n  }\n\n  return css;\n}\n\nfunction fetchCSS(url, sheet) {\n  if (cssFetchPromiseStore[url]) {\n    return cssFetchPromiseStore[url];\n  }\n\n  var promise = fetch(url).then(function (res) {\n    return {\n      url: url,\n      cssText: res.text()\n    };\n  }, function (e) {\n    console.log('ERROR FETCHING CSS: ', e.toString());\n  });\n  cssFetchPromiseStore[url] = promise;\n  return promise;\n}\n\nfunction embedFonts(data) {\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", data.cssText.then(function (resolved) {\n              var cssText = resolved;\n              var regexUrlFind = /url\\([\"']?([^\"')]+)[\"']?\\)/g;\n              var fontLocations = cssText.match(/url\\([^)]+\\)/g) || [];\n              var fontLoadedPromises = fontLocations.map(function (location) {\n                var url = location.replace(regexUrlFind, '$1');\n\n                if (!url.startsWith('https://')) {\n                  var source = data.url;\n                  url = new URL(url, source).href;\n                }\n\n                return new Promise(function (resolve, reject) {\n                  fetch(url).then(function (res) {\n                    return res.blob();\n                  }).then(function (blob) {\n                    var reader = new FileReader();\n                    reader.addEventListener('load', function (res) {\n                      // Side Effect\n                      cssText = cssText.replace(location, \"url(\".concat(reader.result, \")\"));\n                      resolve([location, reader.result]);\n                    });\n                    reader.readAsDataURL(blob);\n                  }).catch(reject);\n                });\n              });\n              return Promise.all(fontLoadedPromises).then(function () {\n                return cssText;\n              });\n            }));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n}","import { svgToDataURL } from './util';\nexport function createSvgDataURL(clonedNode, width, height) {\n  var xmlns = 'http://www.w3.org/2000/svg';\n  var svg = document.createElementNS(xmlns, 'svg');\n  var foreignObject = document.createElementNS(xmlns, 'foreignObject');\n  svg.setAttributeNS('', 'width', \"\".concat(width));\n  svg.setAttributeNS('', 'height', \"\".concat(height));\n  foreignObject.setAttributeNS('', 'width', '100%');\n  foreignObject.setAttributeNS('', 'height', '100%');\n  foreignObject.setAttributeNS('', 'x', '0');\n  foreignObject.setAttributeNS('', 'y', '0');\n  foreignObject.setAttributeNS('', 'externalResourcesRequired', 'true');\n  svg.appendChild(foreignObject);\n  foreignObject.appendChild(clonedNode);\n  return svgToDataURL(svg);\n}","export function applyStyleWithOptions(clonedNode, options) {\n  var style = clonedNode.style;\n\n  if (options.backgroundColor) {\n    style.backgroundColor = options.backgroundColor;\n  }\n\n  if (options.width) {\n    style.width = \"\".concat(options.width, \"px\");\n  }\n\n  if (options.height) {\n    style.height = \"\".concat(options.height, \"px\");\n  }\n\n  var manual = options.style;\n\n  if (manual != null) {\n    Object.keys(manual).forEach(function (key) {\n      // @ts-expect-error\n      style[key] = manual[key];\n    });\n  }\n\n  return clonedNode;\n}","import _regeneratorRuntime from \"/home/runner/work/dataviz-hub2/dataviz-hub2/node_modules/@babel/runtime/regenerator\";\n\nvar __awaiter = this && this.__awaiter || function (thisArg, _arguments, P, generator) {\n  function adopt(value) {\n    return value instanceof P ? value : new P(function (resolve) {\n      resolve(value);\n    });\n  }\n\n  return new (P || (P = Promise))(function (resolve, reject) {\n    function fulfilled(value) {\n      try {\n        step(generator.next(value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function rejected(value) {\n      try {\n        step(generator[\"throw\"](value));\n      } catch (e) {\n        reject(e);\n      }\n    }\n\n    function step(result) {\n      result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n    }\n\n    step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n};\n\nimport { cloneNode } from './cloneNode';\nimport { embedImages } from './embedImages';\nimport { embedWebFonts, getWebFontCss } from './embedWebFonts';\nimport { createSvgDataURL } from './createSvgDataURL';\nimport { applyStyleWithOptions } from './applyStyleWithOptions';\nimport { delay, createImage, canvasToBlob, getNodeWidth, getNodeHeight, getPixelRatio } from './util';\n\nfunction getImageSize(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var width = options.width || getNodeWidth(domNode);\n  var height = options.height || getNodeHeight(domNode);\n  return {\n    width: width,\n    height: height\n  };\n}\n\nexport function toSvg(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    var _getImageSize, width, height;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _getImageSize = getImageSize(domNode, options), width = _getImageSize.width, height = _getImageSize.height;\n            return _context.abrupt(\"return\", cloneNode(domNode, options.filter, true).then(function (clonedNode) {\n              return embedWebFonts(clonedNode, options);\n            }).then(function (clonedNode) {\n              return embedImages(clonedNode, options);\n            }).then(function (clonedNode) {\n              return applyStyleWithOptions(clonedNode, options);\n            }).then(function (clonedNode) {\n              return createSvgDataURL(clonedNode, width, height);\n            }));\n\n          case 2:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n}\nexport var toSvgDataURL = toSvg;\nexport function toCanvas(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            return _context2.abrupt(\"return\", toSvg(domNode, options).then(createImage).then(delay(100)).then(function (image) {\n              var canvas = document.createElement('canvas');\n              var context = canvas.getContext('2d');\n              var ratio = options.pixelRatio || getPixelRatio();\n\n              var _getImageSize2 = getImageSize(domNode, options),\n                  width = _getImageSize2.width,\n                  height = _getImageSize2.height;\n\n              var canvasWidth = options.canvasWidth || width;\n              var canvasHeight = options.canvasHeight || height;\n              canvas.width = canvasWidth * ratio;\n              canvas.height = canvasHeight * ratio;\n              canvas.style.width = \"\".concat(canvasWidth);\n              canvas.style.height = \"\".concat(canvasHeight);\n\n              if (options.backgroundColor) {\n                context.fillStyle = options.backgroundColor;\n                context.fillRect(0, 0, canvas.width, canvas.height);\n              }\n\n              context.drawImage(image, 0, 0, canvas.width, canvas.height);\n              return canvas;\n            }));\n\n          case 1:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2);\n  }));\n}\nexport function toPixelData(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n    var _getImageSize3, width, height;\n\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _getImageSize3 = getImageSize(domNode, options), width = _getImageSize3.width, height = _getImageSize3.height;\n            return _context3.abrupt(\"return\", toCanvas(domNode, options).then(function (canvas) {\n              var ctx = canvas.getContext('2d');\n              return ctx.getImageData(0, 0, width, height).data;\n            }));\n\n          case 2:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3);\n  }));\n}\nexport function toPng(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            return _context4.abrupt(\"return\", toCanvas(domNode, options).then(function (canvas) {\n              return canvas.toDataURL();\n            }));\n\n          case 1:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4);\n  }));\n}\nexport function toJpeg(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            return _context5.abrupt(\"return\", toCanvas(domNode, options).then(function (canvas) {\n              return canvas.toDataURL('image/jpeg', options.quality || 1);\n            }));\n\n          case 1:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5);\n  }));\n}\nexport function toBlob(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            return _context6.abrupt(\"return\", toCanvas(domNode, options).then(canvasToBlob));\n\n          case 1:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6);\n  }));\n}\nexport function getWebFontEmbedCss(domNode) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return __awaiter(this, void 0, void 0, /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            return _context7.abrupt(\"return\", getWebFontCss(domNode, options));\n\n          case 1:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7);\n  }));\n}","import React, { useEffect, useState } from 'react'\nimport PropTypes from 'prop-types'\nimport * as htmlToImage from 'html-to-image';\nimport kebabCase from \"lodash.kebabcase\"\nimport { FiDownload } from \"react-icons/fi\"\nimport { MdCancel } from \"react-icons/md\"\n\n/**\n * Render visualisation pagination component\n * Download visualisation as image strategy:\n * 1. Check if frontmatter contains path from pngImagePath / svgImagePath\n *  2a. YES => download image from the path\n *  2b. NO => check if frontmatter contains external path from pngExternalImagePath / svgExternalImagePath\n *    3a. YES => download image from the path\n *    3b. NO => check if current page has a element with id \"visualisation\"\n *      4a. YES => capture html as image and download (Recommend Chrome as svg generated in Firefox doesn't work in Chrome)\n*       4b. No => Hide/disable download button\n */\nconst visDownload = ({ mdx }) => {\n  const [menu, setMenu] = useState(false);\n  const [targetVis, setTargetVis] = useState('');\n  const pngImagePath = mdx.frontmatter?.pngImagePath?.relativePath || mdx.frontmatter?.pngExternalImagePath || '';\n  const svgImagePath = mdx.frontmatter?.svgImagePath?.relativePath || mdx.frontmatter?.svgExternalImagePath || '';\n  const folderLink = \"https://raw.githubusercontent.com/researchdata-sheffield/dataviz-hub2/master/content/visualisation/\";\n  mdx.folderLink = folderLink;\n\n  useEffect(() => {\n    if (typeof window != \"undefined\") {\n      setTargetVis(document.getElementById('visualisation') || '');\n    }\n  }, [mdx])\n\n  return (\n    <>\n      <button className=\"relative text-3xl\">\n        <div \n          className=\"py-1 px-2 text-white bg-black hover:bg-white hover:text-black flex justify-center rounded-md text-xl cursor-pointer\" \n          title=\"Download as an image\"\n          onClick={() => setMenu(!menu)}\n        ><FiDownload /></div>\n        \n        {/* Pop-up window */}\n        <div \n          className={`${menu ? '' : 'hidden'} fixed rounded-lg py-5 px-6 bg-gray-700 text-white text-base shadow-2xl text-left`} \n          style={{left: '50%', top: '50%', transform: 'translate(-50%, -50%)', maxWidth: '300px'}}\n        >\n          <h4 className=\"text-gray-300\">Download this visualisation in one of the following format:</h4>\n          <div className=\"w-full flex justify-evenly mt-3 space-x-1\">\n          {/* PNG button */}\n            <button \n              disabled={!pngImagePath && !targetVis}\n              className={`${!pngImagePath && !targetVis ? 'cursor-not-allowed text-sm bg-gray-900 text-gray-500' : 'hover:bg-brand-pink'} p-4 rounded-full`}\n              onClick={() => handleImageDownload(targetVis, mdx, pngImagePath, svgImagePath, \"png\")} \n              title=\"Download as PNG\"\n            >\n              PNG {!pngImagePath && !targetVis && \"unavailable\"}\n            </button>\n            {/* SVG button */}\n            <button \n              disabled={!svgImagePath && !targetVis}\n              className={`${!svgImagePath && !targetVis ? 'cursor-not-allowed text-sm bg-gray-900 text-gray-500' : 'hover:bg-brand-pink'} p-4 rounded-full`} \n              onClick={() => handleImageDownload(targetVis, mdx, pngImagePath, svgImagePath, \"svg\")} \n              title={`Download as SVG ${!svgImagePath && targetVis ? \"(this will be generated by a package and we recommend to use Chrome. Known issue: SVG generated in Firefox lose styles)\" : ''}`}\n            >\n              SVG {!svgImagePath && !targetVis && \"unavailable\"}\n            </button>\n          </div>\n          {/* cancel button */}\n          <button onClick={() => setMenu(!menu)} className=\"text-gray-100 hover:text-brand-pink rounded-md transition duration-300 text-xl p-1 absolute top-0 right-0 flex items-center\">\n            <MdCancel className=\"text-lg\" />\n          </button>\n        </div>\n      </button>\n    </>\n  )\n}\n\nvisDownload.propTypes = {\n  mdx: PropTypes.any,\n}\n\nexport default visDownload\n\n\nexport function handleImageDownload(targetVis, mdx, pngImagePath, svgImagePath, type = \"png\") {\n  if (type == \"png\") {\n    downloadAsPng(targetVis, mdx, pngImagePath);\n    return;\n  }\n  downloadAsSvg(targetVis, mdx, svgImagePath);\n}\n\nexport function downloadAsSvg(visElement, mdxObject, svgPath = '') {\n  if (svgPath) {\n    const link = checkURL(svgPath) ? svgPath : `${mdxObject.folderLink}${svgPath}`;\n    window.open(link, '_blank', 'noopener,noreferrer');\n    return;\n  }\n\n  htmlToImage.toSvg(visElement)\n  .then((dataURL) => {\n    var image = new Image();\n    image.src = dataURL;\n    createLinkForImage(`${kebabCase(mdxObject.frontmatter.title)}.svg`, dataURL);\n  })\n  .catch((error) => {\n    window.alert('Oops, something went wrong!', error.toString());\n  });\n}\n\nexport function downloadAsPng(visElement, mdxObject, pngPath = '') {\n  if (pngPath) {\n    const link = checkURL(pngPath) ? pngPath : `${mdxObject.folderLink}${pngPath}`;\n    window.open(link, '_blank', 'noopener,noreferrer');\n    return;\n  }\n\n  htmlToImage.toPng(visElement)\n  .then((dataURL) => {\n    createLinkForImage(`${kebabCase(mdxObject.frontmatter.title)}.png`, dataURL);\n  })\n  .catch((error) => {\n    window.alert('Oops, something went wrong!', error.toString());\n  });\n}\n\nexport function createLinkForImage(fileName, imageURL) {\n  let link = document.createElement('a');\n  link.download = fileName;\n  link.href = imageURL;\n  link.click();\n}\n\nexport function checkURL(myString) {\n  if (myString.length == 0) {\n    return false;\n  }\n\n  return (myString.includes(\"https://\") || myString.includes(\"http://\"));\n}","import React from 'react'\nimport PropTypes from \"prop-types\"\nimport { Link } from \"gatsby\"\nimport { Twitter, Facebook, Mail, Linkedin } from \"react-social-sharing\"\nimport { RiEditBoxLine } from \"react-icons/ri\"\nimport { MdKeyboardArrowRight, MdKeyboardArrowLeft } from \"react-icons/md\"\nimport { ShareButton } from \"../../components/style/visStyle\"\nimport VisDownload from \"./visDownload\"\n\n\nconst visPagination = ({ mdx, className, style }) => {\n  const { githubLink, shareLink, shareMessage } = mdx.shareLinks;\n  const {prev, next} = mdx.pageContext;\n  const buttonStyle = \"py-2 px-2 bg-gray-800 text-white font-semibold text-sm rounded-md hover:bg-gray-700 transition duration-300\";\n\n  return (\n    <div className={`${className} flex flex-wrap justify-between mt-2 space-y-3 mx-auto items-center relative z-10`} style={{...style, maxWidth: '550px'}}>\n      {/* Previous visualisation */}\n      <Link to={prev ? prev.node.fields.slug : ``} className={`${prev ? '' : 'pointer-events-none'} mt-3`}>\n        <button className={`${prev ? '' : 'cursor-not-allowed text-gray-700'} ${buttonStyle}`}>\n          <MdKeyboardArrowLeft className=\"inline-block font-bold\" /> Prev\n        </button>\n      </Link>\n\n      {/* Buttons */}\n      <ShareButton className={`flex flex-wrap text-sm justify-center items-center space-x-1 space-y-1`}>\n        <Twitter className=\"greyScale-100 hover:greyScale-0 mt-1 ml-0\" solid small message={shareMessage} link={shareLink} />\n        <Facebook className=\"greyScale-100 hover:greyScale-0\" solid small link={shareLink} />\n        <Mail className=\"hover:bg-red-600\" solid small subject={shareMessage} link={shareLink} />\n        <Linkedin className=\"greyScale-100 hover:greyScale-0\" solid small message={shareMessage} link={shareLink} />\n        <a className=\"text-3xl\" href={githubLink} target=\"_blank\" rel=\"noopener noreferrer\" title=\"Edit this page on GitHub\">\n          <div className=\"py-1 px-2 bg-black hover:bg-brand-blue text-white flex justify-center rounded-md text-xl cursor-pointer\"><RiEditBoxLine /></div>\n        </a>\n        <VisDownload mdx={mdx} />\n      </ShareButton> \n\n      {/* Next visualisation */}\n      <Link to={next ? next.node.fields.slug : ``} className={`${next ? '' : 'pointer-events-none'}`}>\n        <button className={`${next ? '' : 'cursor-not-allowed text-gray-700'} ${buttonStyle}`}>\n          Next <MdKeyboardArrowRight className=\"inline-block font-bold\" /> \n        </button>\n      </Link>\n    </div>\n  )\n\n}\n\nexport default visPagination\n\nvisPagination.propTypes = {\n  mdx: PropTypes.any,\n}","import React from 'react'\nimport PropTypes from \"prop-types\"\n//import { Link } from \"gatsby\"\nimport { GatsbyImage } from \"gatsby-plugin-image\"\nimport ReactTooltip from 'react-tooltip';\nimport {CatBtn, TagBtn} from \"../../components/style/styleComponent\"\nimport { kebabCase } from 'lodash';\n\n\nconst visDetail = ({ mdx, className, style, displayDescription, displayAuthor, displayTag }) => {\n  displayDescription = displayDescription ?? true;\n  displayAuthor = displayAuthor ?? true;\n  displayTag = displayTag ?? true;\n\n  const authors = mdx.frontmatter.author;\n  const categories = mdx.frontmatter.category ?? null;\n  const tags = mdx.frontmatter.tag ?? null;\n\n  return (\n    <div className={`${className} flex flex-wrap justify-between mt-5 mx-auto items-center`} style={{...style, maxWidth: '550px'}}>\n      {\n        displayDescription &&\n        <p className=\"text-gray-300 text-base\">\n          {mdx.frontmatter.description}\n        </p>\n      }\n      <div className=\"mt-10 flex flex-wrap justify-center w-full\">\n        {/* authors */}\n        { \n          displayAuthor &&\n          <>\n            <div className=\"flex flex-wrap justify-center space-x-1 w-full\">\n              {authors.map((author) => (\n                <>\n                <GatsbyImage data-tip={author.name} className=\"rounded-full shadow-xl mx-1 h-30px w-30px lg:h-40px lg:w-40px 2xl:h-50px 2xl:w-50px\" key={author.name} image={author.avatar.childImageSharp.gatsbyImageData} alt={author.name}  />\n                <ReactTooltip className=\"text-gray-200 bg-gray-800\" place=\"top\" type=\"dark\" effect=\"float\" />\n                </>\n              ))} \n            </div>\n            <div className=\"w-full mt-2 text-center font-semibold text-gray-400\">\n              <h1 className=\"text-sm\">\n                {authors.map((author, idx) => ( (authors.length == idx + 1) ? author.name : (author.name + \" · \") ))}\n              </h1>\n              <h1 className=\"text-xs mt-1\">{mdx.frontmatter.date}</h1>\n            </div>\n          </>\n        }\n\n        {/* cats & tags */}\n        {\n          displayTag &&\n          <div className=\"w-full mt-10 text-xs flex flex-wrap gap-2\">\n            {categories && categories.map((cat) => ( \n              <CatBtn className=\"m-0 rounded-md\" key={cat} to={`/visualisation/category/${kebabCase(cat)}`}>\n                {cat}\n              </CatBtn> \n            ))}\n            {tags && tags.map((currentTag) => ( \n              <TagBtn className=\"m-0 rounded-md\" key={currentTag} to={`/visualisation/tag/${kebabCase(currentTag)}`}>\n                {currentTag}\n              </TagBtn> \n            ))}\n          </div>\n        }\n      </div>\n    </div>\n  )\n\n}\n\nexport default visDetail\n\nvisDetail.propTypes = {\n  mdx: PropTypes.any,\n  style: PropTypes.string,\n  className: PropTypes.string,\n  displayDescription: PropTypes.bool, \n  displayAuthor: PropTypes.bool, \n  displayTag: PropTypes.bool\n}","// BASE\nimport React from \"react\"\nimport { graphql, withPrefix, navigate } from \"gatsby\"\nimport PropTypes from \"prop-types\"\nimport Helmet from \"react-helmet\"\n\nimport SEO from \"../../components/shared/seo\"\nimport PostPagination from \"../../components/blog/postPagination\"\nimport Comment from \"../../components/blog/comment\"\n\n// MDX component\nimport \"katex/dist/katex.min.css\"\nimport CommonMdxProvider from \"../../components/shared/commonMdxProvider\"\n\n// Utils\nimport { useScript } from \"../../utils/hooks/useScript\"\nimport { getShareLinks } from \"../../utils/shared\"\nimport VisPagination from \"../../components/visualisation/visPagination\"\nimport VisDetail from \"../../components/visualisation/visDetail\"\nimport { VisDiv, VisBackBtn } from \"../../components/style/visStyle\"\nimport { AiOutlineRollback, AiOutlineHome } from \"react-icons/ai\"\n\n\nconst visItemTemplate = ({ data: { mdx }, pageContext }) => {\n  const components = { VisPagination, VisDetail, VisDiv };\n\n  const shareLinks = getShareLinks(mdx);\n  const { title, template } = mdx.frontmatter;\n  const {prev, next} = pageContext;\n\n  mdx.shareLinks = shareLinks;\n  mdx.pageContext = pageContext;\n\n  // include d3 scripts\n  const d3 = mdx.frontmatter.d3 || null;\n\n  {d3 && d3.forEach((d) => {\n    if (d.includes(\"https://\")) {\n      useScript(d, \"\", false);  // external script\n    } else {\n      useScript(withPrefix(`d3/${d}`), \"\", false);   \n    }\n  })}\n\n  return (\n    <div className=\"relative\" key={mdx.id}>\n      <SEO title={title} keywords={[\"the university of sheffield\", \"data visualisation\", \"data visualisation hub\", \"research\", \"visualisation\", title, ...mdx.frontmatter?.tag || [], ...mdx.frontmatter?.category || []]} />\n      <Helmet >\n        <script async src=\"https://platform.twitter.com/widgets.js\" charset=\"utf-8\" type = 'text/javascript' /> \n      </Helmet>\n      \n      {/* body */}\n      {template === \"custom\" ? \n        <div className=\"justify-center mx-auto text-lg lg:text-xl\">\n          <CommonMdxProvider mdx={mdx} components={components} />\n        </div>\n        :\n        <div className=\"flex flex-wrap relative mx-auto bg-gray-900\">\n          <div className=\"relative mx-auto container py-32 px-5 text-lg xl:text-xl text-gray-200\" style={{maxWidth: '1200px'}}>\n            <CommonMdxProvider mdx={mdx} components={components} />\n          </div>\n          <VisBackBtn \n            onClick={() => navigate(localStorage.getItem(\"VisGoBackURL\") || '/visualisation')} \n            className=\"text-xl bg-gray-800 text-gray-100 hover:bg-gray-700 hover:text-brand-blue group overflow-hidden\" title=\"Back to visualisation page\"\n          >\n            <AiOutlineRollback className=\"transform group-hover:translate-x-24\" />\n            <AiOutlineHome className=\"absolute transform translate-x-24 group-hover:translate-x-0\" />\n          </VisBackBtn>\n        </div>   \n      }    \n \n      <PostPagination mdx={mdx} prev={prev} next={next} shareLinks={shareLinks} displayPagination={false} displayTags={false} displayShareButtons={false} />\n      <Comment mdx={mdx} />\n    </div>\n  );\n}\n\nexport default visItemTemplate\n\nvisItemTemplate.propTypes = {\n  data: PropTypes.any,\n  pageContext: PropTypes.any,\n}\n\nexport const query = graphql`\n  query visualisationItemQuery($id: String) {\n    mdx(id: {eq: $id}) {\n      id\n      body\n      tableOfContents\n      fields {\n        ...MdxFields\n        slugOrigin\n      }\n      frontmatter {\n        ...MdxFrontmatter\n        disableTOC\n        d3\n        pngImagePath {\n          relativePath\n        }\n        svgImagePath {\n          relativePath\n        }\n        pngExternalImagePath\n        svgExternalImagePath\n      }\n    }\n  }\n`\n","/**\n * A specialized version of `_.reduce` for arrays without support for\n * iteratee shorthands.\n *\n * @private\n * @param {Array} [array] The array to iterate over.\n * @param {Function} iteratee The function invoked per iteration.\n * @param {*} [accumulator] The initial value.\n * @param {boolean} [initAccum] Specify using the first element of `array` as\n *  the initial value.\n * @returns {*} Returns the accumulated value.\n */\nfunction arrayReduce(array, iteratee, accumulator, initAccum) {\n  var index = -1,\n      length = array == null ? 0 : array.length;\n\n  if (initAccum && length) {\n    accumulator = array[++index];\n  }\n  while (++index < length) {\n    accumulator = iteratee(accumulator, array[index], index, array);\n  }\n  return accumulator;\n}\n\nmodule.exports = arrayReduce;\n","/** Used to match words composed of alphanumeric characters. */\nvar reAsciiWord = /[^\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\x7f]+/g;\n\n/**\n * Splits an ASCII `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction asciiWords(string) {\n  return string.match(reAsciiWord) || [];\n}\n\nmodule.exports = asciiWords;\n","/**\n * The base implementation of `_.propertyOf` without support for deep paths.\n *\n * @private\n * @param {Object} object The object to query.\n * @returns {Function} Returns the new accessor function.\n */\nfunction basePropertyOf(object) {\n  return function(key) {\n    return object == null ? undefined : object[key];\n  };\n}\n\nmodule.exports = basePropertyOf;\n","var arrayReduce = require('./_arrayReduce'),\n    deburr = require('./deburr'),\n    words = require('./words');\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\";\n\n/** Used to match apostrophes. */\nvar reApos = RegExp(rsApos, 'g');\n\n/**\n * Creates a function like `_.camelCase`.\n *\n * @private\n * @param {Function} callback The function to combine each word.\n * @returns {Function} Returns the new compounder function.\n */\nfunction createCompounder(callback) {\n  return function(string) {\n    return arrayReduce(words(deburr(string).replace(reApos, '')), callback, '');\n  };\n}\n\nmodule.exports = createCompounder;\n","var basePropertyOf = require('./_basePropertyOf');\n\n/** Used to map Latin Unicode letters to basic Latin letters. */\nvar deburredLetters = {\n  // Latin-1 Supplement block.\n  '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\n  '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\n  '\\xc7': 'C',  '\\xe7': 'c',\n  '\\xd0': 'D',  '\\xf0': 'd',\n  '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\n  '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\n  '\\xcc': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\n  '\\xec': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\n  '\\xd1': 'N',  '\\xf1': 'n',\n  '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\n  '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\n  '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\n  '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\n  '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\n  '\\xc6': 'Ae', '\\xe6': 'ae',\n  '\\xde': 'Th', '\\xfe': 'th',\n  '\\xdf': 'ss',\n  // Latin Extended-A block.\n  '\\u0100': 'A',  '\\u0102': 'A', '\\u0104': 'A',\n  '\\u0101': 'a',  '\\u0103': 'a', '\\u0105': 'a',\n  '\\u0106': 'C',  '\\u0108': 'C', '\\u010a': 'C', '\\u010c': 'C',\n  '\\u0107': 'c',  '\\u0109': 'c', '\\u010b': 'c', '\\u010d': 'c',\n  '\\u010e': 'D',  '\\u0110': 'D', '\\u010f': 'd', '\\u0111': 'd',\n  '\\u0112': 'E',  '\\u0114': 'E', '\\u0116': 'E', '\\u0118': 'E', '\\u011a': 'E',\n  '\\u0113': 'e',  '\\u0115': 'e', '\\u0117': 'e', '\\u0119': 'e', '\\u011b': 'e',\n  '\\u011c': 'G',  '\\u011e': 'G', '\\u0120': 'G', '\\u0122': 'G',\n  '\\u011d': 'g',  '\\u011f': 'g', '\\u0121': 'g', '\\u0123': 'g',\n  '\\u0124': 'H',  '\\u0126': 'H', '\\u0125': 'h', '\\u0127': 'h',\n  '\\u0128': 'I',  '\\u012a': 'I', '\\u012c': 'I', '\\u012e': 'I', '\\u0130': 'I',\n  '\\u0129': 'i',  '\\u012b': 'i', '\\u012d': 'i', '\\u012f': 'i', '\\u0131': 'i',\n  '\\u0134': 'J',  '\\u0135': 'j',\n  '\\u0136': 'K',  '\\u0137': 'k', '\\u0138': 'k',\n  '\\u0139': 'L',  '\\u013b': 'L', '\\u013d': 'L', '\\u013f': 'L', '\\u0141': 'L',\n  '\\u013a': 'l',  '\\u013c': 'l', '\\u013e': 'l', '\\u0140': 'l', '\\u0142': 'l',\n  '\\u0143': 'N',  '\\u0145': 'N', '\\u0147': 'N', '\\u014a': 'N',\n  '\\u0144': 'n',  '\\u0146': 'n', '\\u0148': 'n', '\\u014b': 'n',\n  '\\u014c': 'O',  '\\u014e': 'O', '\\u0150': 'O',\n  '\\u014d': 'o',  '\\u014f': 'o', '\\u0151': 'o',\n  '\\u0154': 'R',  '\\u0156': 'R', '\\u0158': 'R',\n  '\\u0155': 'r',  '\\u0157': 'r', '\\u0159': 'r',\n  '\\u015a': 'S',  '\\u015c': 'S', '\\u015e': 'S', '\\u0160': 'S',\n  '\\u015b': 's',  '\\u015d': 's', '\\u015f': 's', '\\u0161': 's',\n  '\\u0162': 'T',  '\\u0164': 'T', '\\u0166': 'T',\n  '\\u0163': 't',  '\\u0165': 't', '\\u0167': 't',\n  '\\u0168': 'U',  '\\u016a': 'U', '\\u016c': 'U', '\\u016e': 'U', '\\u0170': 'U', '\\u0172': 'U',\n  '\\u0169': 'u',  '\\u016b': 'u', '\\u016d': 'u', '\\u016f': 'u', '\\u0171': 'u', '\\u0173': 'u',\n  '\\u0174': 'W',  '\\u0175': 'w',\n  '\\u0176': 'Y',  '\\u0177': 'y', '\\u0178': 'Y',\n  '\\u0179': 'Z',  '\\u017b': 'Z', '\\u017d': 'Z',\n  '\\u017a': 'z',  '\\u017c': 'z', '\\u017e': 'z',\n  '\\u0132': 'IJ', '\\u0133': 'ij',\n  '\\u0152': 'Oe', '\\u0153': 'oe',\n  '\\u0149': \"'n\", '\\u017f': 's'\n};\n\n/**\n * Used by `_.deburr` to convert Latin-1 Supplement and Latin Extended-A\n * letters to basic Latin letters.\n *\n * @private\n * @param {string} letter The matched letter to deburr.\n * @returns {string} Returns the deburred letter.\n */\nvar deburrLetter = basePropertyOf(deburredLetters);\n\nmodule.exports = deburrLetter;\n","/** Used to detect strings that need a more robust regexp to match words. */\nvar reHasUnicodeWord = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;\n\n/**\n * Checks if `string` contains a word composed of Unicode symbols.\n *\n * @private\n * @param {string} string The string to inspect.\n * @returns {boolean} Returns `true` if a word is found, else `false`.\n */\nfunction hasUnicodeWord(string) {\n  return reHasUnicodeWord.test(string);\n}\n\nmodule.exports = hasUnicodeWord;\n","/** Used to compose unicode character classes. */\nvar rsAstralRange = '\\\\ud800-\\\\udfff',\n    rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange,\n    rsDingbatRange = '\\\\u2700-\\\\u27bf',\n    rsLowerRange = 'a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff',\n    rsMathOpRange = '\\\\xac\\\\xb1\\\\xd7\\\\xf7',\n    rsNonCharRange = '\\\\x00-\\\\x2f\\\\x3a-\\\\x40\\\\x5b-\\\\x60\\\\x7b-\\\\xbf',\n    rsPunctuationRange = '\\\\u2000-\\\\u206f',\n    rsSpaceRange = ' \\\\t\\\\x0b\\\\f\\\\xa0\\\\ufeff\\\\n\\\\r\\\\u2028\\\\u2029\\\\u1680\\\\u180e\\\\u2000\\\\u2001\\\\u2002\\\\u2003\\\\u2004\\\\u2005\\\\u2006\\\\u2007\\\\u2008\\\\u2009\\\\u200a\\\\u202f\\\\u205f\\\\u3000',\n    rsUpperRange = 'A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde',\n    rsVarRange = '\\\\ufe0e\\\\ufe0f',\n    rsBreakRange = rsMathOpRange + rsNonCharRange + rsPunctuationRange + rsSpaceRange;\n\n/** Used to compose unicode capture groups. */\nvar rsApos = \"['\\u2019]\",\n    rsBreak = '[' + rsBreakRange + ']',\n    rsCombo = '[' + rsComboRange + ']',\n    rsDigits = '\\\\d+',\n    rsDingbat = '[' + rsDingbatRange + ']',\n    rsLower = '[' + rsLowerRange + ']',\n    rsMisc = '[^' + rsAstralRange + rsBreakRange + rsDigits + rsDingbatRange + rsLowerRange + rsUpperRange + ']',\n    rsFitz = '\\\\ud83c[\\\\udffb-\\\\udfff]',\n    rsModifier = '(?:' + rsCombo + '|' + rsFitz + ')',\n    rsNonAstral = '[^' + rsAstralRange + ']',\n    rsRegional = '(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}',\n    rsSurrPair = '[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]',\n    rsUpper = '[' + rsUpperRange + ']',\n    rsZWJ = '\\\\u200d';\n\n/** Used to compose unicode regexes. */\nvar rsMiscLower = '(?:' + rsLower + '|' + rsMisc + ')',\n    rsMiscUpper = '(?:' + rsUpper + '|' + rsMisc + ')',\n    rsOptContrLower = '(?:' + rsApos + '(?:d|ll|m|re|s|t|ve))?',\n    rsOptContrUpper = '(?:' + rsApos + '(?:D|LL|M|RE|S|T|VE))?',\n    reOptMod = rsModifier + '?',\n    rsOptVar = '[' + rsVarRange + ']?',\n    rsOptJoin = '(?:' + rsZWJ + '(?:' + [rsNonAstral, rsRegional, rsSurrPair].join('|') + ')' + rsOptVar + reOptMod + ')*',\n    rsOrdLower = '\\\\d*(?:1st|2nd|3rd|(?![123])\\\\dth)(?=\\\\b|[A-Z_])',\n    rsOrdUpper = '\\\\d*(?:1ST|2ND|3RD|(?![123])\\\\dTH)(?=\\\\b|[a-z_])',\n    rsSeq = rsOptVar + reOptMod + rsOptJoin,\n    rsEmoji = '(?:' + [rsDingbat, rsRegional, rsSurrPair].join('|') + ')' + rsSeq;\n\n/** Used to match complex or compound words. */\nvar reUnicodeWord = RegExp([\n  rsUpper + '?' + rsLower + '+' + rsOptContrLower + '(?=' + [rsBreak, rsUpper, '$'].join('|') + ')',\n  rsMiscUpper + '+' + rsOptContrUpper + '(?=' + [rsBreak, rsUpper + rsMiscLower, '$'].join('|') + ')',\n  rsUpper + '?' + rsMiscLower + '+' + rsOptContrLower,\n  rsUpper + '+' + rsOptContrUpper,\n  rsOrdUpper,\n  rsOrdLower,\n  rsDigits,\n  rsEmoji\n].join('|'), 'g');\n\n/**\n * Splits a Unicode `string` into an array of its words.\n *\n * @private\n * @param {string} The string to inspect.\n * @returns {Array} Returns the words of `string`.\n */\nfunction unicodeWords(string) {\n  return string.match(reUnicodeWord) || [];\n}\n\nmodule.exports = unicodeWords;\n","var deburrLetter = require('./_deburrLetter'),\n    toString = require('./toString');\n\n/** Used to match Latin Unicode letters (excluding mathematical operators). */\nvar reLatin = /[\\xc0-\\xd6\\xd8-\\xf6\\xf8-\\xff\\u0100-\\u017f]/g;\n\n/** Used to compose unicode character classes. */\nvar rsComboMarksRange = '\\\\u0300-\\\\u036f',\n    reComboHalfMarksRange = '\\\\ufe20-\\\\ufe2f',\n    rsComboSymbolsRange = '\\\\u20d0-\\\\u20ff',\n    rsComboRange = rsComboMarksRange + reComboHalfMarksRange + rsComboSymbolsRange;\n\n/** Used to compose unicode capture groups. */\nvar rsCombo = '[' + rsComboRange + ']';\n\n/**\n * Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks) and\n * [combining diacritical marks for symbols](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks_for_Symbols).\n */\nvar reComboMark = RegExp(rsCombo, 'g');\n\n/**\n * Deburrs `string` by converting\n * [Latin-1 Supplement](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\n * and [Latin Extended-A](https://en.wikipedia.org/wiki/Latin_Extended-A)\n * letters to basic Latin letters and removing\n * [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to deburr.\n * @returns {string} Returns the deburred string.\n * @example\n *\n * _.deburr('déjà vu');\n * // => 'deja vu'\n */\nfunction deburr(string) {\n  string = toString(string);\n  return string && string.replace(reLatin, deburrLetter).replace(reComboMark, '');\n}\n\nmodule.exports = deburr;\n","var createCompounder = require('./_createCompounder');\n\n/**\n * Converts `string` to\n * [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to convert.\n * @returns {string} Returns the kebab cased string.\n * @example\n *\n * _.kebabCase('Foo Bar');\n * // => 'foo-bar'\n *\n * _.kebabCase('fooBar');\n * // => 'foo-bar'\n *\n * _.kebabCase('__FOO_BAR__');\n * // => 'foo-bar'\n */\nvar kebabCase = createCompounder(function(result, word, index) {\n  return result + (index ? '-' : '') + word.toLowerCase();\n});\n\nmodule.exports = kebabCase;\n","var asciiWords = require('./_asciiWords'),\n    hasUnicodeWord = require('./_hasUnicodeWord'),\n    toString = require('./toString'),\n    unicodeWords = require('./_unicodeWords');\n\n/**\n * Splits `string` into an array of its words.\n *\n * @static\n * @memberOf _\n * @since 3.0.0\n * @category String\n * @param {string} [string=''] The string to inspect.\n * @param {RegExp|string} [pattern] The pattern to match words.\n * @param- {Object} [guard] Enables use as an iteratee for methods like `_.map`.\n * @returns {Array} Returns the words of `string`.\n * @example\n *\n * _.words('fred, barney, & pebbles');\n * // => ['fred', 'barney', 'pebbles']\n *\n * _.words('fred, barney, & pebbles', /[^, ]+/g);\n * // => ['fred', 'barney', '&', 'pebbles']\n */\nfunction words(string, pattern, guard) {\n  string = toString(string);\n  pattern = guard ? undefined : pattern;\n\n  if (pattern === undefined) {\n    return hasUnicodeWord(string) ? unicodeWords(string) : asciiWords(string);\n  }\n  return string.match(pattern) || [];\n}\n\nmodule.exports = words;\n"],"sourceRoot":""}