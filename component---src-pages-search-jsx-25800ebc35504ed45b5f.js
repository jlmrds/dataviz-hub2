(self.webpackChunkdatavizhub_tuos=self.webpackChunkdatavizhub_tuos||[]).push([[995],{7201:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return Z}});var r=a(7294),n=a(6292),s=a(6613),o=a(2173),i=a(7329),l=a(1788),u=a(5444),h=a(3750),c=a(926),g=a.n(c),d=a(8501),p=a.n(d),m=a(14),f=a.n(m),y=a.p+"static/search-cf9fb2a9c2596e7f265f0e65e8d5aa65.png",x=a(5957),v=a(3431),b=function(t){function e(){for(var e,a=arguments.length,r=new Array(a),n=0;n<a;n++)r[n]=arguments[n];return(e=t.call.apply(t,[this].concat(r))||this).state={query:"",results:[]},e.componentDidMount=function(){setTimeout((function(){if(e.props.location.state&&e.props.location.state.searchWord){var t=e.props.location.state.searchWord,a=document.getElementById("pageSearch");e.setState({query:t}),a.setAttribute("value",t),e.searchFromHome(t)}}),100)},e.search=function(t){var a=t.target.value;if(e.state.query.length>-1){var r=e.getSearchResults(a);e.setState({results:r,query:a})}else e.setState({results:[],query:a})},e.searchFromHome=function(t){var a=t;if(e.state.query.length>-1){var r=e.getSearchResults(a);e.setState({results:r,query:a})}else e.setState({results:[],query:a})},e}(0,l.Z)(e,t);var a=e.prototype;return a.render=function(){var t=this;return(0,v.tZ)("div",{className:this.props.classNames+" relative text-gray-700 w-full text-center"},(0,v.tZ)("div",{className:"pt-40 pb-10 bg-white",style:{backgroundImage:"url("+y+")",backgroundSize:"contain",backgroundPosition:"center",backgroundRepeat:"no-repeat",width:"100%",minHeight:"600px"}},(0,v.tZ)(p(),{top:!0,duration:1e3,cascade:!0},(0,v.tZ)("p",{className:"text-lg text-gray-800 mb-5 font-extrabold"},"What are you looking for?")),(0,v.tZ)(f(),{bottom:!0,duration:1500},(0,v.tZ)("div",{className:"inline-block focus:outline-none text-gray-600 bg-white shadow p-3 rounded-lg"},(0,v.tZ)(h.jRj,{className:"inline-block text-center text-3xl -mt-1"}),(0,v.tZ)("input",{id:"pageSearch",onChange:this.search,onInput:this.search,autoComplete:"off",className:"search__input py-0 pl-4 text-lg focus:outline-none pr-5 text-gray-600",style:{minWidth:"25vw"},type:"text",name:"search",placeholder:"Search title, description, date..."})))),(0,v.tZ)("div",{className:"search__list bg-gray-100"},(0,v.tZ)((function(){if(t.state.results.length>0&&t.state.query.length>0){var e=(0,u.useStaticQuery)("3851183577");return(0,v.tZ)("div",null,(0,v.tZ)("div",{className:"bg-white text-gray-900 py-2"},"Found ",t.state.results.length," results for you."),(0,v.tZ)("div",{className:"flex flex-wrap py-10 xl:pt-16 xl:pb-64 justify-center bg-gray-100"},t.state.results.map((function(a,r){var n;e.allMdx.edges.map((function(t){var e=t.node;a.id==e.id&&(n=(0,x.MC)(e,!0))}));var s=(0,x.El)(a.title,8),o=(0,x.El)(a.description,30),i="text-blue-400 bg-black";return(0,v.tZ)("a",{href:""+a.url,target:"_blank",rel:"noopener noreferrer",key:r},(0,v.tZ)("div",{style:{width:"363px",backgroundImage:"url("+n+")",backgroundSize:"cover",backgroundPosition:"center",borderRadius:"10px",minHeight:"420px"},className:"shadow-lg hover:shadow-xl rounded-lg group text-left relative md:mx-6 my-6 transform hover:scale-105 transition duration-500"},(0,v.tZ)("div",{className:"rounded-lg max-h-60 w-full p-6 transition duration-700 bg-black-35 group-hover:bg-black-75",style:{minHeight:"420px"}},(0,v.tZ)("div",{className:"absolute pt-8 lg:pt-12 2xl:pt-16 overflow-hidden",style:{maxWidth:"320px"}},(0,v.tZ)("h1",{className:"mb-3 group-hover:-translate-y-8 text-white bg-gray-900 group-hover:text-brand-blue group-hover:bg-black font-bold text-lg transform transition duration-300 inline-block rounded-md",style:{textShadow:"none",padding:".15rem .65rem"}},a.type||"blog"),(0,v.tZ)("h1",{className:"group-hover:-translate-y-8 text-white font-bold leading-7 text-2xl transform transition duration-100"},(0,v.tZ)(g(),{highlightClassName:i,textToHighlight:s,searchWords:t.state.query.split()})),(0,v.tZ)("h1",{className:"group-hover:hidden text-gray-400 leading-7 my-4 font-bold text-lg transition duration-500",style:{textShadow:"#000 0px 0px 30px"}},a.author.map((function(e,a,r){return(0,v.tZ)(g(),{className:"text-white",highlightClassName:i,textToHighlight:r.length-1===a?e:e.concat(", "),searchWords:t.state.query.split(),key:e})}))),a.category&&(0,v.tZ)("h1",{className:"group-hover:hidden text-gray-400 font-bold transition duration-500"},"CAT:  ",(0,v.tZ)(g(),{className:"text-white",highlightClassName:i,textToHighlight:a.category[0].toUpperCase(),searchWords:t.state.query.split()})),a.tag&&(0,v.tZ)("h1",{className:"group-hover:hidden text-gray-400 font-bold transition duration-500"},"TAG:  ",a.tag.map((function(e,a,n){return r<3&&(0,v.tZ)(g(),{className:"text-white",highlightClassName:i,textToHighlight:n.length-1===a?e.toUpperCase():e.toUpperCase().concat(", "),searchWords:t.state.query.split(),key:e})})),a.tag.length>3&&(0,v.tZ)("p",{className:"inline-block text-white"}," +",a.tag.length-3," more")),(0,v.tZ)("p",{className:"hidden group-hover:block my-4 text-xs text-gray-500 w-full font-semibold transform group-hover:-translate-y-12 transition duration-500"},(0,v.tZ)(g(),{highlightClassName:i,textToHighlight:a.url.toUpperCase(),searchWords:t.state.query.split()})),(0,v.tZ)("h1",{className:"hidden group-hover:block text-white leading-5 text-lg py-3 transform group-hover:-translate-y-12 transition duration-500"},(0,v.tZ)(g(),{highlightClassName:i,textToHighlight:o,searchWords:t.state.query.split()}))))))}))))}return t.state.query.length>0?(0,v.tZ)("div",{className:"bg-white text-gray-900 py-2"},"No results for ",t.state.query):(0,v.tZ)("div",{className:"bg-gray-50 text-gray-700 py-2"},"Type something in the search box ...")}),null)))},a.getSearchResults=function(t){var e=window.__FLEXSEARCH__.en.index,a=window.__FLEXSEARCH__.en.store;if(t&&e){var r=[];return Object.keys(e).forEach((function(a){var n;(n=r).push.apply(n,(0,i.Z)(e[a].values.search({query:t,suggest:!0})))})),r=Array.from(new Set(r)),a.filter((function(t){return r.includes(t.id)?t:null})).map((function(t){return t.node}))}return[]},e}(r.Component),Z=function(t){var e=t.location;return(0,v.tZ)(r.Fragment,null,(0,v.tZ)(n.Z,{title:"Search",keywords:["the university of sheffield","data visualisation","data visualisation hub","research","dataviz.shef","search dataviz"]}),(0,v.tZ)(s.Z,null),(0,v.tZ)("div",{className:"flex flex-wrap"},(0,v.tZ)(b,{location:e})),(0,v.tZ)(o.Z,null))}},5957:function(t,e,a){"use strict";a.d(e,{El:function(){return s},MC:function(){return o},MH:function(){return i}});var r=a(5444),n=a(9285);function s(t,e){var a=t?t.split(" ").splice(0,e):"";return a=a.length<e?a.join(" "):a.join(" ").concat(" ...")}function o(t,e){var a;if(void 0===e&&(e=!1),t.frontmatter&&t.frontmatter.thumbnail&&t.frontmatter.thumbnail.childImageSharp)a=t.frontmatter.thumbnail.childImageSharp.gatsbyImageData;else{var s=(0,r.useStaticQuery)("3976606562"),o=Object.values(s);a=o[Math.floor(i()*o.length)].childImageSharp.gatsbyImageData}return!0===e?(0,n.e)(a):a}function i(){return"undefined"!=typeof window&&window.crypto.getRandomValues(new Uint16Array(1))[0]/Math.pow(2,16)}}}]);
//# sourceMappingURL=component---src-pages-search-jsx-25800ebc35504ed45b5f.js.map